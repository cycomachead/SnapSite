<html>
    <head>
        <meta charset="UTF-8">
        <title>Snap! Build Your Own Blocks</title>
        <meta name="description" content="The Snap! social platform">
        <meta name="author" content="Bernat Romagosa">
        <link rel="icon" href="favicon.png">

        <!-- External libs, both stylesheets and JS -->
        <link rel="stylesheet" href="libs/reset.css">
        <link rel="stylesheet" href="libs/pure-min.css">
        <link rel="stylesheet" href="libs/font-awesome.min.css">
        <link rel="stylesheet" href="libs/custom-alert.css">
        <script type="text/javascript" src="libs/FileSaver.min.js"></script>

        <link rel="stylesheet" href="style/elements.css">
        <link rel="stylesheet" href="style/classes.css">
        <link rel="stylesheet" href="style/layout.css">
        <script type="text/javascript" src="js/locale.js"></script>
        <script type="text/javascript" src="js/base.js"></script>

        <script type="text/javascript" src="libs/cloud.js"></script>
        <script type="text/javascript">SnapCloud = new Cloud();</script>
        <script type="text/javascript" src="https://rawgit.com/bromagosa/Snap/gh-pages/sha512.js"></script>
    </head>
    <body>
        <script type="text/javascript" src="libs/custom-alert.min.js"></script>
        <script>new customAlert();</script>
        <div id="loading"><i class="fa fa-spinner fa-spin fa-3x" aria-hidden="true"></i></div>
        <div id="top-bar">
            <div class="pure-menu-horizontal pure-menu">
                <ul class="pure-g pure-menu-list">
                    <a class="pure-u-1-12" href="index.html"><img src="img/topbar-logo.png" class="logo"/></a>
                    <li class="pure-menu-item pure-u-1-12"><a localizable class="pure-menu-link run" target="_blank">Run Snap<em>!</em></a></li>
                    <li class="pure-menu-item pure-u-1-12"><a localizable class="pure-menu-link" href="explore.html">Explore</a></li>
                    <i class="pure-u-1-6"></i>
                    <div class="search pure-u-1-6">
                        <form action="search.html">
                            <input type="text" name="term">
                            <i class="fa fa-search" aria-hidden="true"></i>
                        </form>
                    </div>
                    <i class="pure-u-3-24"></i>
                    <li hidden="true" class="join pure-menu-item pure-u-1-12"><a localizable class="pure-menu-link" href="signup.html">Join</a></li>
                    <li hidden="true" class="sign-in pure-menu-item pure-u-1-12"><a localizable class="pure-menu-link" href="login.html">Log In</a></li>
                    <li hidden="true" class="pure-menu-item pure-u-1-6 pure-menu-has-children pure-menu-allow-hover user-menu">
                        <a href="#" id="menuLink1" class="pure-menu-link visitor"></a>
                        <ul class="pure-menu-children pure-u-3-24">
                            <li class="pure-menu-item"><a localizable class="pure-menu-link my-projects" href="myprojects.html">My Projects</a></li>
                            <li class="pure-menu-item"><a localizable class="pure-menu-link my-public-projects" href="">My Public Page</a></li>
                            <li class="pure-menu-item"><a localizable class="pure-menu-link my-profile" href="profile.html">My Profile</a></li>
                            <li hidden="true" class="pure-menu-item admin"><a localizable class="pure-menu-link" href="admin.html">Administration</a></li>
                            <hr>
                            <li class="pure-menu-item"><a localizable class="pure-menu-link" href="#" onclick="SnapCloud.logout(function () { sessionStorage.clear(); location.reload(); });">Log Out</a></li>
                        </ul>
                    </li>
                    <li class="pure-menu-item pure-u-1-24 pure-menu-has-children pure-menu-allow-hover settings">
                        <a class="pure-menu-link" href="#"><i class="fa fa-bars" aria-hidden="true"></i></a>
                        <ul class="pure-menu-children pure-u-3-24">
                            <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
                                <a localizable class="pure-menu-link" href="">Language</a>
                                <ul class="pure-menu-children languages">
                                    <a class="pure-menu-link" href="" onclick="localizer.setLanguage('en');">English</a>
                                    <a class="pure-menu-link" href="" onclick="localizer.setLanguage('ca');">Català</a>
                                    <a class="pure-menu-link" href="" onclick="localizer.setLanguage('es');">Castellano</a>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div id="wrapper">
<div class="bubble-wrap pure-g" style="margin-bottom: 2em">
    <div class="pure-u-1-5" style="text-align: center"><img src="img/alonzo.svg"/></div>
    <div class="bubble pure-u-3-5">
        <p>This is a preview of the upcoming Snap<em>!</em> social website. Please bear in mind that this site is currently under construction and will keep changing over the next months. Most features are still under development.</p>
        <p>Enjoy the preview, and thank you for your understanding!</p>
    </div>
</div>
<h1>Welcome to Snap<em>!</em></h1>
<div class="indent bigger">Snap<em>!</em> is a broadly inviting programming language for kids and adults that’s also a platform for serious study of computer science.</div>
<div class="indent bigger less-v-spaced">Take a look at some <a href="examples.html">examples</a> or check out the <a href="manual.html">reference manual</a> to learn more about it, or head straight into the <a href="https://snap.berkeley.edu/run">editor</a> and start programming right away!</div>
<br class="v-spaced">
<h2 localizable>Latest Projects</h2>
<script src="js/project.js"></script>
<link rel="stylesheet" href="style/project.css">
<nav class="latest paginator">
    <a href="#" onclick="latest_toPage(1);"><i class="fa fa-fast-backward"></i></a>
    <a href="#" onclick="latest_toPage(latest_page - 5 > 0 ? latest_page - 5 : 1);"><i class="fa fa-backward"></i></a>
    <a href="#" onclick="latest_toPage(latest_page - 1 > 0 ? latest_page - 1 : latest_page);"><i class="fa fa-play fa-rotate-180"></i></a>
    <span class="page"></span> / <span class="total-pages"></span>
    <a href="#" onclick="latest_toPage(latest_page + 1 < latest_totalPages ? latest_page + 1 : latest_totalPages);"><i class="fa fa-play"></i></a>
    <a href="#" onclick="latest_toPage(latest_page + 5 < latest_totalPages ? latest_page + 5 : latest_totalPages);"><i class="fa fa-forward"></i></a>
    <a href="#" onclick="latest_toPage(latest_totalPages);"><i class="fa fa-fast-forward"></i></a>
</nav>
<div class="latest projects pure-g"></div>
<script>
    var latest_projectsDiv = document.querySelector('.latest.projects'),
        latest_pageSpan = document.querySelector('.latest.paginator .page'),
        latest_totalPagesSpan = document.querySelector('.latest.paginator .total-pages'),
        latest_page = 1,
        latest_totalPages = 1,
        latest_pageSize = 5 || 15;

    latest_toPage(1);

    function latest_toPage (pageNumber) {
        latest_projectsDiv.innerHTML = '';
        beganLoading('.latest.projects');
        SnapCloud.getPublishedProjectList(
            null,
            pageNumber,
            latest_pageSize,
            getUrlParameter('term') || null,
            function (response) {
                setTitle("Snap! Build Your Own Blocks");
                latest_totalPages = response.pages;
                latest_totalPagesSpan.textContent = latest_totalPages;
                if (response.projects[0]) {
                    response.projects.forEach(function (project) {
                        latest_projectsDiv.append(
                                newProjectDiv(
                                project,
                                {
                                    size: 'small',
                                    gridSize: 5,
                                    extraFields: {
                                        author: 'username'
                                    }
                                }));
                    });
                }
                doneLoading('.latest.projects');
            },
            function (error) {
                genericError(error);
            },
            true // withThumbnail
        );
        latest_page = pageNumber;
        latest_pageSpan.textContent = pageNumber;
    };
</script>
        </div>
        <div id="footer">
            <div class="links pure-g">
                <div class="pure-u-1-5">
                    <p><h4>About</h4></p>
                    <p><a localizable href="about.html">About Snap<em>!</em></a></p>
                    <p><a localizable href="credits.html">Credits</a></p>
                    <p><a localizable href="requirements.html">Technical Requirements</a></p>
                    <p><a localizable href="partners.html">Partners</a></p>
                    <p><a localizable target="_blank" href="https://github.com/jmoenig/Snap--Build-Your-Own-Blocks">Source Code</a></p>
                </div>
                <div class="pure-u-1-5">
                    <p><h4>Learning</h4></p>
                    <p><a localizable href="examples.html">Examples</a></p>
                    <p><a localizable href="manual.html">Reference Manual</a></p>
                    <p><a localizable href="bjc.html">BJC</a></p>
                </div>
                <div class="pure-u-1-5">
                    <p><h4>Tools</h4></p>
                    <p><a localizable href="extensions.html">Extensions</a></p>
                    <p><a target="_blank" href="http://snapp.citilab.eu">Snapp<em>!</em></a></p>
                    <p><a target="_blank" href="https://djsrv.github.io/Snapin8r2/">Snapin8r2</a></p>
                </div>
                <div class="pure-u-1-5">
                    <p><h4>Support</h4></p>
                    <p><a localizable target="_blank" href="https://snapforum.cs10.org/">Forum</a></p>
                    <p><a localizable href="contact.html">Contact Us</a></p>
                    <p><a localizable href="mirrors.html">Mirrors</a></p>
                </div>
                <div class="pure-u-1-5">
                    <p><h4>Legal</h4></p>
                    <p><a localizable href="dmca.html">DMCA</a></p>
                    <p><a localizable href="privacy.html">Privacy</a></p>
                    <p><a localizable href="tos.html">Terms of Service</a></p>
                </div>
            </div>
        </div>
    </body>
    <script>
    SnapCloud.genericError = genericError;
    document.querySelector('#top-bar .run').href = snapURL;
    if (!sessionStorage.username) {
        SnapCloud.initSession(
            function (username, isadmin) {
                sessionStorage.username = username;
                sessionStorage.isadmin = isadmin;
                initForUsername(username);
            }
        );
    } else {
        initForUsername(sessionStorage.username);
    }

    function initForUsername (username) {
        if (username) {
            document.querySelector('li.join').hidden = true;
            document.querySelector('li.sign-in').hidden = true;
            document.querySelector('li.user-menu').hidden = false;
            document.querySelector('a.my-public-projects').href = 'user.html?user=' + username;
            if (sessionStorage.isadmin == 'true') {
                document.querySelector('.admin').hidden = false;
            }
            fillVisitorFields();
        } else {
            document.querySelector('li.join').hidden = false;
            document.querySelector('li.sign-in').hidden = false;
            document.querySelector('li.user-menu').hidden = true;
        }
        fillUsernameFields();
        fillVisitorFields();
        doneLoading();
    }
    </script>
</html>

